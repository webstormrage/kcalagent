# Настройка
1. установить golang 1.23.4
2. установить зависимости
```
go mod tidy
```
3. создать пустую PostgreSQL базу данных
4. создать пустой .env файл в корне проекта
```
DATA_SOURCE_NAME='host=$dbhost port=$dbport user=$dbuser password=$dbpassword dbname=$dbname'
GEN_AI_API_KEY=$gemini_api_token
```
3. создать директорию logs/ в корне проекта
4. создать пустой файл input в директории logs/


# Использование

1. запишите продукты logs/input.txt
```
яблоко 100гр
груша 35гр +
рис(300, 8, 3, 62) 200гр
апельсиновый сок(сок) 200мл +
```
- обязательно указать граммовку
- после запуска система предложит сохранить продукт в базу если указать + в конце (нужно ввести y, как согласие)
- если указать в скобочках ккал, белки, жиры, углеводы на 100гр, то система будет использовать эти значения
- если значения не указаны, то система проверит есть ли одноименный продукт в базе, или существует ли алиас и будет использовать сохраненное БЖУ, иначе будет сделан запрос в genai
- для продукта из базы можно создать алиас, для этого нужно написать желаемый алиас а после него имя продукта из базы в скобках

2. Запуск
```
go run cmd/main.go
```
3. в конце выполнения программа спросит нужно ли сохранять прием пиши в базу (нужно ввести y, как согласие)
4. logs/multi-output-details будет записан результат
5. В выводе программа напишет общий итог за день (начало дня считается 6:00 по таймзоне системы)
6. Для оптимизации работы программы можно перед запуском ее скомпилировать
```
go build -o filename cmd/main.go
```
тогда файл с выбранном именем можно будет запускать напрямую